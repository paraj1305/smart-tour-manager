<div class="tour-packages-card">
    <div class="row">

        {% if tours %}
        {% for tour in tours %}
        <div class="col-lg-4 col-md-6">

            <div class="tour-card">

                {# -------- COVER IMAGE -------- #}
                {% set cover_img = tour.gallery_images | selectattr("image_type", "equalto", "cover") | list %}

                <div class="tour-cover">
                    {% if cover_img %}
                    <img src="{{ url_for('static', path=cover_img[0].image_path) }}" alt="cover">
                    {% else %}
                    <div class="no-image">No Image</div>
                    {% endif %}

                    <span class="status-badge {{ tour.status }}">
                        {{ tour.status|capitalize }}
                    </span>
                </div>

                <div class="tour-body">

                    <h5 class="tour-title">{{ tour.title }}</h5>

                    <div class="tour-meta">
                        <span>üìç {{ tour.city }}, {{ tour.country }}</span>
                        <span class="price">‚Çπ{{ tour.price }}</span>
                    </div>

                    {# -------- GALLERY -------- #}
                    {% set gallery_imgs = tour.gallery_images | selectattr("image_type", "equalto", "gallery") | list %}
                    {% if gallery_imgs %}
                    <div class="tour-gallery">
                        {% for img in gallery_imgs[:5] %}
                        <img src="{{ url_for('static', path=img.image_path) }}" class="gallery-thumb"
                            data-bs-toggle="modal" data-bs-target="#galleryModal"
                            data-img="{{ url_for('static', path=img.image_path) }}">
                        {% endfor %}
                        {% if gallery_imgs|length > 5 %}
                        <span class="more-count">+{{ gallery_imgs|length - 5 }}</span>
                        {% endif %}
                    </div>
                    {% endif %}

                    {# -------- ACTIONS -------- #}
                    <div class="tour-actions">
                        <a href="{{ url_for('tour_package_edit_page', package_id=tour.id) }}"
                            class="btn btn-edit btn-xs">
                            Edit
                        </a>

                        <a href="javascript:void(0)" class="confirm-tour-delete btn btn-sm btn-delete"
                            data-route="{{ request.url_for('tour_package_delete', package_id=tour.id) }}">
                            Delete
                        </a>
                    </div>

                </div>


            </div>

        </div>
        {% endfor %}
        {% else %}
        <div class="col-12 text-center py-5">
            <h5>No tour packages found</h5>
        </div>
        {% endif %}

    </div>
</div>